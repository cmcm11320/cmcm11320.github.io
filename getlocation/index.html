<button class="btn">Localização</button>

<script>
    
const getBtn = document.querySelector(".btn");
const api_key = "ff55663f69244177b8c6ea985e9a9c4f";

getBtn.addEventListener("click", () => {
  if (navigator.geolocation) {
  navigator.geolocation.getCurrentPosition(showPosition);
  }
});

async function showPosition(position) {
  let { latitude, longitude } = position.coords;

  let response = await fetch(
    `https://api.opencagedata.com/geocode/v1/json?q=${latitude}+${longitude}&key=${api_key}`
  );
  
  let data = await response.json();
  document.write(`Seu endereço é :- ${data.results[0].formatted}`);
  console.log(data);
}

</script>

<script>
  fetch("https://api.ipify.org/?format=json")
.then(response => response.json())
.then(data => console.log(data))
</script>